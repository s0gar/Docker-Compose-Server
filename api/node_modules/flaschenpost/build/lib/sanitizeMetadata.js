"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.sanitizeMetadata = void 0;
const serialize_error_1 = require("serialize-error");
const lodash_1 = require("lodash");
const cloner = function (value) {
    if (!(0, lodash_1.isError)(value)) {
        return;
    }
    return (0, serialize_error_1.serializeError)(value);
};
const sanitizeMetadata = function (metadata) {
    return (0, lodash_1.cloneDeepWith)(metadata, cloner);
};
exports.sanitizeMetadata = sanitizeMetadata;
